<?xml version="1.0" encoding="UTF-8"?>
<article xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="../../../docs.xsd"
         id="sync-rest-api">
   <title>Sync REST API</title>
   <description>TODO: Add description.</description>
   <introduction>
      <paragraph>You use the Sync REST API to synchronize a local database with a remote database. The sync takes place over HTTP and uses JSON documents in the message bodies. For more information about the synchronization protocol, see <external-ref href="https://github.com/couchbase/couchbase-lite-ios/wiki/Replication-Algorithm"/>. You can also see the <external-ref href="https://github.com/couchbase/sync_gateway/blob/master/src/github.com/couchbaselabs/sync_gateway/rest/routing.go"/>.</paragraph>
      <paragraph>To access the Sync REST API, you need to have a user account.</paragraph>
   </introduction>
   <topics>
      <topic id="http-requests">
         <title>HTTP Requests</title>
         <body>
            <paragraph>You can use the following requests on the remote database. Replace <emphasis>db</emphasis> with the dame of your database.</paragraph>
            <paragraph>
               <strong>Push or Pull Requests:</strong>
            </paragraph>
            <unordered-list>
               <list-item>
                  <paragraph>Read the last checkpoint</paragraph>
                  <list-item>
                     <paragraph>Save a new checkpoint</paragraph>
                  </list-item>
                  <paragraph>
                     <strong>Push Requests:</strong>
                  </paragraph>

                  <unordered-list>
                     <list-item>
                        <paragraph>Create remote database</paragraph>
                        <list-item>
                           <paragraph>Find revisions that are not known to the remote database</paragraph>
                           <list-item>
                              <paragraph>Upload revisions</paragraph>
                              <list-item>
                                 <paragraph>Upload a single document with attachments</paragraph>
                              </list-item>
                              <paragraph>
                                 <strong>Pull Requests:</strong>
                              </paragraph>

                              <unordered-list>
                                 <list-item>
                                    <paragraph>Find changes since the last pull (<emphasis>feed</emphasis> can be normal or longpoll)</paragraph>
                                    <list-item>
                                       <paragraph>Download a single document with attachments</paragraph>
                                       <list-item>
                                          <paragraph>Download first-generation revisions in bulk</paragraph>
                                       </list-item>
                                    </list-item>
                                 </list-item>
                              </unordered-list>
                           </list-item>
                        </list-item>
                     </list-item>
                  </unordered-list>
               </list-item>
            </unordered-list>
         </body>
      </topic>
   </topics>
</article>
