<?xml version="1.0" encoding="UTF-8"?>
<lesson xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="../../../docs.xsd" id="get-started-eclipse">
	<title>Getting started with Eclipse</title>
	<description>Create a new Couchbase Lite project in Eclipse</description>
	<introduction><paragraph>This lesson describes how to set up the Couchbase Lite environment with
			Eclipse.</paragraph></introduction>
	<tasks>

		<task id="set-up-env">
			<title>Set up the environment</title>
			<body>
				<paragraph>Before you can build an app, you need to set up your development environment.
					To get set up with Eclipse, you can use one of the following methods:</paragraph>
				<unordered-list>
					<list-item><paragraph><emphasis>Recommended method</emphasis>. Download and install
							the <external-ref href="http://developer.android.com/sdk/index.html">Android
								Developer Tools (ADT) Bundle</external-ref>, which includes the essential
							Android SDK components and a version of the Eclipse IDE with built-in ADT. This
							tutorial was developed with the ADT Bundle.</paragraph></list-item>
					<list-item><paragraph>If you already have Eclipse installed and prefer to use that
							version, you can install the Android SDK by following the instructions for
							using an existing IDE found on the <external-ref
								href="http://developer.android.com/sdk/index.html">ADT Bundle
								page</external-ref>.</paragraph></list-item>
				</unordered-list>
			</body>
		</task>

		<task id="create-new-project">
			<title>Create a new project</title>
			<body>
				<ordered-list>
					<list-item><paragraph>Launch Eclipse.</paragraph></list-item>
					<list-item><paragraph>Select <strong>File &gt; New &gt; Android Application
								Project</strong>.</paragraph></list-item>
					<list-item><paragraph>In the New Project window, enter the application name, module
							name, package name, and project location.</paragraph>
						<paragraph>This example uses <code>HelloWorldEclipse</code> for the application
							name.</paragraph></list-item>
					<list-item><paragraph>Set the minimum required SDK to <strong>API 9: Android 2.3
								(Gingerbread)</strong> or later and use the currently recommended Android
							API.</paragraph>
						<paragraph>After you fill in the fields, the New Project window should look
							something like this:</paragraph>
						<image href="images/new-project-eclipse.png" width="100%"
							alt="New Eclipse project" />
					</list-item>
					<list-item><paragraph>Click <strong>Next</strong>, and then move through the
							remaining setup screens and enter settings as necessary (or just accept the
							defaults).</paragraph></list-item>
					<list-item><paragraph>When you get to the last setup screen, click
								<strong>Finish</strong>.</paragraph></list-item>
					<list-item><paragraph>Open the <strong>AndroidManifest.xml</strong> file (it&#8217;s
							located at the root level of your project directory), and add the following
							line to the file as a child of the <code>&lt;manifest&gt;</code>
							element.</paragraph>
<code-block>
&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
</code-block>
					</list-item>
					<list-item><paragraph>Save the <strong>AndroidManifest.xml</strong>
						file.</paragraph></list-item>
				</ordered-list>
			</body>
		</task>

		<task id="add-cbl">
			<title>Add Couchbase Lite</title>
			<body>
				<ordered-list>
					<list-item><paragraph>Download the latest version of Couchbase Lite from
								<external-ref href="http://www.couchbase.com/download#cb-mobile"
								>http://www.couchbase.com/download#cb-mobile</external-ref>.</paragraph></list-item>
					<list-item><paragraph>Decompress the zip file.</paragraph></list-item>
					<list-item><paragraph>In the decompressed folder, find the <strong>cbl_collator_so-1.0.2.jar</strong> file, rename it to <strong>cbl_collator_so-1.0.2.zip</strong>, and then decompress it.</paragraph>						
					</list-item>
					<list-item><paragraph>Copy all the folders in the <strong>/cbl_collator_so-1.0.2/libs</strong> folder into the <strong>libs</strong> folder in the HelloWorldEclipse project.</paragraph>
						<note>You need to extract and copy these files manually because Eclipse cannot handle JARs that contain native libraries. For more information about this limitation, see <external-ref href="https://code.google.com/p/android/issues/detail?id=17861">Android issue 17861</external-ref>.</note></list-item>
					<list-item><paragraph>Copy all the remaining JAR files from the <strong>/couchbase-lite-1.0.2</strong> folder into the project <strong>libs</strong> folder.</paragraph><paragraph>You do not need to copy any .aar and .pom files from the folder.</paragraph></list-item>															
				</ordered-list>
				<paragraph>After you copy all the files into the <strong>libs</strong> directory in your Eclipse project, its content should look similar to the following figure:</paragraph>
				<image href="images/final-libs-folder.png" alt="libs folder contents" />
			</body>
		</task>

		<task id="build-run">
			<title>Build and run the app</title>
			<body>
				<paragraph>Running the empty app at this point verifies whether the dependencies are set up correctly. The app won&#8217;t run properly if you have Android Studio running simultaneously with the ADT bundle Eclipse. </paragraph>
				<ordered-list>
					<list-item><paragraph>Click <strong>Run</strong> and verify the app runs properly.</paragraph></list-item>
					
					<list-item><paragraph>When requested, start the emulator.</paragraph>
						<paragraph>You should see the app start in the emulator and the text &#8220;Hello World&#8221; in the app window, similar to the following figure:</paragraph>
					
					<image href="images/hello-world-emulator-eclipse.png" width="40%" alt="Emulator display" />
					
					</list-item>
				</ordered-list>
			</body>
		</task>
	</tasks>

</lesson>
